library("wesanderson")
mytheme <- theme(axis.text.x = element_text(angle = 45, vjust = 0.9, hjust=1),
panel.background = element_rect(fill="white", color = "grey50"),
panel.grid.major.y = element_line(color="grey90"),
axis.title.y = element_text(vjust= 1, hjust=1, angle = 90)
)
theme_set(mytheme)
# reasons for holding
reasonsfor <- reasonsfor %>% sjlabelled::remove_all_labels()
plot.a <- reasonsfor %>%  ggplot(.,
aes(x=name,y=prop,color=value)) +
geom_point(aes(x=name,y=prop,color=factor(value)),size=4,na.rm=TRUE) +
labs(title="Reasons for holding cryptocurrencies, now or in the past",
x="Named reason",
y="Frequency of named reason") +
scale_color_manual(name="Was this mentioned?",
values=c("red","lightblue"),
labels=c("No","Yes"))
# reasons for not holding
reasonsno <- reasonsno %>% sjlabelled::remove_all_labels()
plot.b <- reasonsno %>%  ggplot(.,
aes(x=name,y=prop,color=value)) +
geom_point(aes(x=name,y=prop,color=factor(value)),size=4,na.rm=TRUE) +
labs(title = "Reasons for not holding cryptocurrencies",
x="Named reason",
y="Frequency of named reason") +
scale_color_manual(name="Was this mentioned?",
values=c("red","lightblue"),
labels=c("No","Yes"))
plot.a
### ----- save
save(list=c("plot.a","plot.b","reasonsfor","reasonsno"),
file="data/reasons.Rdata")
##### ------ Reasons for behavior
# --- packages import
library(rstatix)
library(Hmisc)
library(corrplot)
library(psych)
library(dplyr)
library(tidyverse)
library(broom)
library(sjlabelled)
library(survey)
library(purrr)
library(ggplot2)
# --- data import
load("data/df.Rdata")
## installs developer tools
remotes::install_github("maksimrudnev/LittleHelpers") # useful for ess data
# --- import source script
source("scripts/helper_functions.R")
###### ----------------------------------------------
# ----- Legend
# - a = heard of cryptocurrencies + holds now or held in the past cryptocurrencies
# - b = heard of cryptocurrencies + not yet held cryptocurrencies
# --- reasons for holding
a <- df_ipst %>% filter(krybws01==1 & (krybst01==1 | krybst01==2))
reasonsfor <-a %>% dplyr::select(kryerw01:kryerw10) %>% rename(FOM = kryerw01,
Fun = kryerw02,
"Learn more" = kryerw03,
"Earn money fast" = kryerw04,
"Longterm investment" = kryerw05,
Inheritance = kryerw06,
"Support Blockchain tech" = kryerw07,
"Online shopping" = kryerw08,
"Money transfer" = kryerw09,
"Diversify investment portofolio" = kryerw10) %>%
pivot_longer(everything()) %>%
group_by(name,value) %>%
summarise(n=n()) %>%
mutate( total_n=sum(n),
prop=100*n/sum(n),
cum=100*cumsum(prop/sum(prop))) %>%
ungroup()
n_reasonsfor = reasonsfor[1,4]
# --- reasons for not holding
b <- df_ipst %>% filter(krybws01==1 & krybst01==3)
reasonsno <-b %>% dplyr::select(krykew01:krykew09) %>% rename("Cannot afford it" = krykew01,
"Risk too high" = krykew02,
"Insufficiently informed" = krykew03,
"State regulation insufficient" = krykew04,
"Other investment options more attractive" = krykew05,
"No interest" = krykew06,
"Generally no interest in investing" = krykew07,
"Price instability is worrisome" = krykew08,
"Money needed for other reasons" = krykew09) %>%
pivot_longer(everything()) %>%
group_by(name,value) %>%
summarise(n=n()) %>%
mutate( total_n=sum(n),
prop=100*n/sum(n),
cum=100*cumsum(prop/sum(prop))) %>%
ungroup()
n_reasonsno = reasonsno[1,4]
###### --------------------
library("wesanderson")
mytheme <- theme(axis.text.x = element_text(angle = 45, vjust = 0.9, hjust=1),
panel.background = element_rect(fill="white", color = "grey50"),
panel.grid.major.y = element_line(color="grey90"),
axis.title.y = element_text(vjust= 1, hjust=1, angle = 90)
)
theme_set(mytheme)
# reasons for holding
reasonsfor <- reasonsfor %>% sjlabelled::remove_all_labels()
plot.a <- reasonsfor %>%  ggplot(.,
aes(x=name,y=prop,color=value)) +
geom_point(aes(x=name,y=prop,color=factor(value)),size=4,na.rm=TRUE) +
labs(x="Named reason",
y="Frequency of named reason") +
scale_color_manual(name="Mentioned?",
values=c("red","lightblue"),
labels=c("No","Yes"))
# reasons for not holding
reasonsno <- reasonsno %>% sjlabelled::remove_all_labels()
plot.b <- reasonsno %>%  ggplot(.,
aes(x=name,y=prop,color=value)) +
geom_point(aes(x=name,y=prop,color=factor(value)),size=4,na.rm=TRUE) +
labs(x="Named reason",
y="Frequency of named reason") +
scale_color_manual(name="Mentioned?",
values=c("red","lightblue"),
labels=c("No","Yes"))
### ----- save
save(list=c("plot.a","plot.b","reasonsfor","reasonsno"),
file="data/reasons.Rdata")
##### ------ Reasons for behavior
# --- packages import
library(rstatix)
library(Hmisc)
library(corrplot)
library(psych)
library(dplyr)
library(tidyverse)
library(broom)
library(sjlabelled)
library(survey)
library(purrr)
library(ggplot2)
# --- data import
load("data/df.Rdata")
## installs developer tools
remotes::install_github("maksimrudnev/LittleHelpers") # useful for ess data
# --- import source script
source("scripts/helper_functions.R")
###### ----------------------------------------------
# ----- Legend
# - a = heard of cryptocurrencies + holds now or held in the past cryptocurrencies
# - b = heard of cryptocurrencies + not yet held cryptocurrencies
# --- reasons for holding
a <- df_ipst %>% filter(krybws01==1 & (krybst01==1 | krybst01==2))
reasonsfor <-a %>% dplyr::select(kryerw01:kryerw10) %>% rename(FOM = kryerw01,
Fun = kryerw02,
"Learn more" = kryerw03,
"Earn money fast" = kryerw04,
"Longterm investment" = kryerw05,
Inheritance = kryerw06,
"Support Blockchain tech" = kryerw07,
"Online shopping" = kryerw08,
"Money transfer" = kryerw09,
"Diversify investment portofolio" = kryerw10) %>%
pivot_longer(everything()) %>%
group_by(name,value) %>%
summarise(n=n()) %>%
mutate( total_n=sum(n),
prop=100*n/sum(n),
cum=100*cumsum(prop/sum(prop))) %>%
ungroup()
n_reasonsfor = reasonsfor[1,4]
# --- reasons for not holding
b <- df_ipst %>% filter(krybws01==1 & krybst01==3)
reasonsno <-b %>% dplyr::select(krykew01:krykew09) %>% rename("Cannot afford it" = krykew01,
"Risk too high" = krykew02,
"Insufficiently informed" = krykew03,
"State regulation insufficient" = krykew04,
"Alternative investment more attractive" = krykew05,
"No interest" = krykew06,
"Generally no interest in investing" = krykew07,
"Price instability is worrisome" = krykew08,
"Money needed for other reasons" = krykew09) %>%
pivot_longer(everything()) %>%
group_by(name,value) %>%
summarise(n=n()) %>%
mutate( total_n=sum(n),
prop=100*n/sum(n),
cum=100*cumsum(prop/sum(prop))) %>%
ungroup()
n_reasonsno = reasonsno[1,4]
###### --------------------
library("wesanderson")
mytheme <- theme(axis.text.x = element_text(angle = 45, vjust = 0.9, hjust=1),
panel.background = element_rect(fill="white", color = "grey50"),
panel.grid.major.y = element_line(color="grey90"),
axis.title.y = element_text(vjust= 1, hjust=1, angle = 90)
)
theme_set(mytheme)
# reasons for holding
reasonsfor <- reasonsfor %>% sjlabelled::remove_all_labels()
plot.a <- reasonsfor %>%  ggplot(.,
aes(x=name,y=prop,color=value)) +
geom_point(aes(x=name,y=prop,color=factor(value)),size=4,na.rm=TRUE) +
labs(x="Named reason",
y="Frequency of named reason") +
scale_color_manual(name="Mentioned?",
values=c("red","lightblue"),
labels=c("No","Yes"))
# reasons for not holding
reasonsno <- reasonsno %>% sjlabelled::remove_all_labels()
plot.b <- reasonsno %>%  ggplot(.,
aes(x=name,y=prop,color=value)) +
geom_point(aes(x=name,y=prop,color=factor(value)),size=4,na.rm=TRUE) +
labs(x="Named reason",
y="Frequency of named reason") +
scale_color_manual(name="Mentioned?",
values=c("red","lightblue"),
labels=c("No","Yes"))
### ----- save
save(list=c("plot.a","plot.b","reasonsfor","reasonsno"),
file="data/reasons.Rdata")
##### ------ Reasons for behavior
# --- packages import
library(rstatix)
library(Hmisc)
library(corrplot)
library(psych)
library(dplyr)
library(tidyverse)
library(broom)
library(sjlabelled)
library(survey)
library(purrr)
library(ggplot2)
# --- data import
load("data/df.Rdata")
## installs developer tools
remotes::install_github("maksimrudnev/LittleHelpers") # useful for ess data
# --- import source script
source("scripts/helper_functions.R")
###### ----------------------------------------------
# ----- Legend
# - a = heard of cryptocurrencies + holds now or held in the past cryptocurrencies
# - b = heard of cryptocurrencies + not yet held cryptocurrencies
# --- reasons for holding
a <- df_ipst %>% filter(krybws01==1 & (krybst01==1 | krybst01==2))
reasonsfor <-a %>% dplyr::select(kryerw01:kryerw10) %>% rename(FOM = kryerw01,
Fun = kryerw02,
"Learn more" = kryerw03,
"Earn money fast" = kryerw04,
"Longterm investment" = kryerw05,
Inheritance = kryerw06,
"Support Blockchain tech" = kryerw07,
"Online shopping" = kryerw08,
"Money transfer" = kryerw09,
"Diversify investment portofolio" = kryerw10) %>%
pivot_longer(everything()) %>%
group_by(name,value) %>%
summarise(n=n()) %>%
mutate( total_n=sum(n),
prop=100*n/sum(n),
cum=100*cumsum(prop/sum(prop))) %>%
ungroup()
n_reasonsfor = reasonsfor[1,4]
# --- reasons for not holding
b <- df_ipst %>% filter(krybws01==1 & krybst01==3)
reasonsno <-b %>% dplyr::select(krykew01:krykew09) %>% rename("Cannot afford it" = krykew01,
"Risk too high" = krykew02,
"Insufficiently informed" = krykew03,
"State regulation insufficient" = krykew04,
"Alternative investment more attractive" = krykew05,
"No interest" = krykew06,
"Generally no interest in investing" = krykew07,
"Price instability is worrisome" = krykew08,
"Money needed for other reasons" = krykew09) %>%
pivot_longer(everything()) %>%
group_by(name,value) %>%
summarise(n=n()) %>%
mutate( total_n=sum(n),
prop=100*n/sum(n),
cum=100*cumsum(prop/sum(prop))) %>%
ungroup()
n_reasonsno = reasonsno[1,4]
###### --------------------
library("wesanderson")
mytheme <- theme(axis.text.x = element_text(angle = 45, vjust = 0.9, hjust=1),
panel.background = element_rect(fill="white", color = "grey50"),
panel.grid.major.y = element_line(color="grey90"),
axis.title.y = element_text(vjust= 1, hjust=1, angle = 90)
)
theme_set(mytheme)
# reasons for holding
reasonsfor <- reasonsfor %>% sjlabelled::remove_all_labels()
plot.a <- reasonsfor %>%  ggplot(.,
aes(x=name,y=prop,color=value)) +
geom_point(aes(x=name,y=prop,color=factor(value)),size=4,na.rm=TRUE) +
labs(x="Named reason",
y="Frequency of named reason") +
scale_color_manual(name="Mentioned?",
values=c("red","lightblue"),
labels=c("No","Yes"))
# reasons for not holding
reasonsno <- reasonsno %>% sjlabelled::remove_all_labels()
plot.b <- reasonsno %>%  ggplot(.,
aes(x=name,y=prop,color=value)) +
geom_point(aes(x=name,y=prop,color=factor(value)),size=4,na.rm=TRUE) +
labs(x="Named reason",
y="Frequency of named reason") +
scale_color_manual(name="Mentioned?",
values=c("red","lightblue"),
labels=c("No","Yes"))
### ----- save
save(list=c("plot.a","plot.b","n_reasonsfor","n_reasonsno"),
file="data/reasons.Rdata")
n_reasonsfor+n_reasonsno
reasonsno
##### ------ Reasons for behavior
# --- packages import
library(rstatix)
library(Hmisc)
library(corrplot)
library(psych)
library(dplyr)
library(tidyverse)
library(broom)
library(sjlabelled)
library(survey)
library(purrr)
library(ggplot2)
# --- data import
load("data/df.Rdata")
## installs developer tools
remotes::install_github("maksimrudnev/LittleHelpers") # useful for ess data
# --- import source script
source("scripts/helper_functions.R")
###### ----------------------------------------------
# ----- Legend
# - a = heard of cryptocurrencies + holds now or held in the past cryptocurrencies
# - b = heard of cryptocurrencies + not yet held cryptocurrencies
# --- reasons for holding
a <- df_ipst %>% filter(krybws01==1 & (krybst01==1 | krybst01==2))
reasonsfor <-a %>% dplyr::select(kryerw01:kryerw10) %>% rename(FOM = kryerw01,
Fun = kryerw02,
"Learn more" = kryerw03,
"Earn money fast" = kryerw04,
"Longterm investment" = kryerw05,
Inheritance = kryerw06,
"Support Blockchain tech" = kryerw07,
"Online shopping" = kryerw08,
"Money transfer" = kryerw09,
"Diversify investment portofolio" = kryerw10) %>%
pivot_longer(everything()) %>%
group_by(name,value) %>%
summarise(n=n()) %>%
mutate( total_n=sum(n),
prop=100*n/sum(n),
cum=100*cumsum(prop/sum(prop))) %>%
ungroup()
n_reasonsfor = reasonsfor[1,4]
# --- reasons for not holding
b <- df_ipst %>% filter(krybws01==1 & krybst01==3)
reasonsno <-b %>% dplyr::select(krykew01:krykew09) %>% rename("Cannot afford it" = krykew01,
"Risk too high" = krykew02,
"Insufficiently informed" = krykew03,
"State regulation insufficient" = krykew04,
"Alternative investment more attractive" = krykew05,
"No interest" = krykew06,
"Generally no interest in investing" = krykew07,
"Price instability is worrisome" = krykew08,
"Money needed for other reasons" = krykew09) %>%
pivot_longer(everything()) %>%
group_by(name,value) %>%
summarise(n=n()) %>%
mutate( total_n=sum(n),
prop=100*n/sum(n),
cum=100*cumsum(prop/sum(prop))) %>%
ungroup()
n_reasonsno = reasonsno[1,4]
###### --------------------
library("wesanderson")
mytheme <- theme(axis.text.x = element_text(angle = 45, vjust = 0.9, hjust=1),
panel.background = element_rect(fill="white", color = "grey50"),
panel.grid.major.y = element_line(color="grey90"),
axis.title.y = element_text(vjust= 1, hjust=1, angle = 90)
)
theme_set(mytheme)
# reasons for holding
reasonsfor <- reasonsfor %>% sjlabelled::remove_all_labels()
plot.a <- reasonsfor %>%  ggplot(.,
aes(x=name,y=prop,color=value)) +
geom_point(aes(x=name,y=prop,color=factor(value)),size=4,na.rm=TRUE) +
labs(x="Named reason",
y="Frequency of named reason") +
scale_color_manual(name="Mentioned?",
values=c("red","lightblue"),
labels=c("No","Yes"))
# reasons for not holding
reasonsno <- reasonsno %>% sjlabelled::remove_all_labels()
plot.b <- reasonsno %>%  ggplot(.,
aes(x=name,y=prop,color=value)) +
geom_point(aes(x=name,y=prop,color=factor(value)),size=4,na.rm=TRUE) +
labs(x="Named reason",
y="Frequency of named reason") +
scale_color_manual(name="Mentioned?",
values=c("red","lightblue"),
labels=c("No","Yes"))
### ----- save
save(list=c("plot.a","plot.b","reasonsfor","n_reasonsfor","reasonsno","n_reasonsno"),
file="data/reasons.Rdata")
max(reasonsfor$prop)
maxfor = reasonsfor %>% filter(value==1)
maxfor
maxfor = reasonsfor %>% filter(value==1) %>% max()
maxfor = reasonsfor %>% filter(value==1) %>% max(prop)
maxfor = reasonsfor %>% filter(value==1) %>% max("prop")
maxfor = reasonsfor %>% filter(value==1) %>% max(.,"prop")
maxfor = reasonsfor %>% filter(value==1) %>% max(.,prop)
max1for = temp[7,5]
max2for = temp[6,5]
max1for = temp[7,5]
max2for = temp[6,5]
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
r <- getOption("repos")
r["CRAN"] <-"https://cloud.r-project.org/"
options(repos=r)
## these are packages needed for these analyses
if (!require(tidyverse)) {
install.packages("tidyverse")
require(tidyverse)
}
if (!require(dplyr)) {
install.packages("dplyr")
require(dplyr)
}
if (!require(knitr)) {
install.packages("knitr")
require(knitr)
}
if (!require(wesanderson)) {
install.packages("wesanderson")
require(wesanderson)
}
if (!require(haven)) {
install.packages("haven")
require(haven)
}
if (!require(kableExtra)) {
install.packages("kableExtra")
require(kableExtra)
}
if (!require(DT)) {
install.packages("DT")
require(DT)
}
if (!require(Hmisc)) {
install.packages("Hmisc")
require(Hmisc)
}
if (!require(corrplot)) {
install.packages("corrplot")
require(corrplot)
}
#
remotes::install_github("maksimrudnev/LittleHelpers")
# load packages
library("tidyverse")
library("dplyr")
library("knitr")
library("wesanderson")
library("haven")
library("kableExtra")
library("DT")
library("Hmisc")
library("corrplot")
# --- imports data
load("data/df.Rdata")
load("data/descriptives.Rdata")
load("data/pca.Rdata")
load("data/gradient.Rdata")
load("data/represent.Rdata")
load("data/reasons.Rdata")
# --- imports source scripts
source("scripts/helper_functions.R")
# --- theme for plots
mytheme <- theme(axis.text.x = element_text(angle = 45, vjust = 0.9, hjust=1, size = 10),
panel.background = element_rect(fill="white", color = "grey50"),
panel.grid.major.y = element_line(color="grey90"),
axis.title.y = element_text(vjust= 0.5, hjust=1, angle = 90) )
temp = reasonsfor %>% filter(value==1) %>% max()
load("data/reasons.Rdata")
temp <- reasonsfor %>% filter(value==1) %>% max()
temp <- reasonsfor %>% filter(value==1) %>% max()
temp <- reasonsfor %>% filter(value==1)
temp
max1for = temp[7,5]
max2for = temp[6,5]
max1for
tempno <- reasonsno %>% filter(value==0)
tempno <- reasonsno %>% filter(value==1)
tempno
tempfor <- reasonsfor %>% filter(value==1) %>% order()
tempfor <- reasonsfor %>% filter(value==1) %>% arrange()
tempfor
tempfor <- reasonsfor %>% filter(value==1) %>% arrange(prop)
tempfor
tempno <- reasonsno %>% filter(value==1) %>% arrange()
tempno
tempno <- reasonsno %>% filter(value==1) %>% arrange(prop)
max1no = tempno[10,5] %>% as.numeric() %>% round_df()
max2no = tempno[9,5] %>% as.numeric() %>% round_df()
max1no
tempno
res1for = tempfor[10,1]
res1for
